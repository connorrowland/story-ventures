{"ast":null,"code":"import _classCallCheck from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/connorrowland/story-ventures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import $ from'jquery';var ContactForm=/*#__PURE__*/function(_React$Component){_inherits(ContactForm,_React$Component);function ContactForm(props){var _this;_classCallCheck(this,ContactForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(ContactForm).call(this,props));_this.handleKeyPress=function(e){if(e.key==='Enter'&&_this.state.isActive){_this.handleSubmit();}};_this.componentDidMount=function(){document.addEventListener('keypress',_this.handleKeyPress);};_this.componentWillUnmount=function(){document.removeEventListener('keypress',_this.handleKeyPress);};_this.handleSubmit=function(){if(_this.validateEmail()){var signUpData={'email':_this.state.email};$.ajax({url:\"https://formspree.io/xkzwwvnm\",method:\"POST\",data:signUpData,dataType:\"json\",success:function(data){var self=this;$(\"#signup--input-container\").fadeOut(function(){self.setState({successfulSubmit:true});$(\"#signup--confirmation-text\").fadeIn();});}.bind(_assertThisInitialized(_this)),error:function(xhr,status,err){console.error(this.props.url,status,err.toString());}.bind(_assertThisInitialized(_this))});}else{_this.setState({showError:true});}};_this.handleEmailChange=function(e){_this.setState({email:e.target.value,showError:false});};_this.validateEmail=function(){_this.setState({isActive:true});var email=_this.state.email;var re=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(re.test(email)){return true;}else{return false;}};_this.renderForm=function(){return React.createElement(\"div\",{id:\"signup--input-container\"},_this.state.showError&&React.createElement(\"p\",{id:\"signup--error-message\"},\"Sure that\\u2019s your email?\"),React.createElement(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"youremail@email.com\",onBlur:_this.validateEmail,onChange:_this.handleEmailChange}),React.createElement(\"button\",{onClick:_this.handleSubmit},\"Get in touch\"));};_this.renderConfirmation=function(){return React.createElement(\"div\",{id:\"signup--confirmation-text\"},React.createElement(\"p\",null,\"Thanks! We\\u2019ll be in touch soon.\"));};_this.state={email:'',showError:false,successfulSubmit:false,isActive:false};return _this;}_createClass(ContactForm,[{key:\"render\",value:function render(){var formBody=this.state.successfulSubmit?this.renderConfirmation():this.renderForm();return React.createElement(\"section\",{id:\"signup--container\"},React.createElement(\"div\",{id:\"signup--intro-container\"},React.createElement(\"h2\",null,\"Let\\u2019s write the future together.\")),formBody);}}]);return ContactForm;}(React.Component);;export default ContactForm;","map":{"version":3,"sources":["/Users/connorrowland/story-ventures/src/Components/ContactForm.js"],"names":["React","$","ContactForm","props","handleKeyPress","e","key","state","isActive","handleSubmit","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","validateEmail","signUpData","email","ajax","url","method","data","dataType","success","self","fadeOut","setState","successfulSubmit","fadeIn","bind","error","xhr","status","err","console","toString","showError","handleEmailChange","target","value","re","test","renderForm","renderConfirmation","formBody","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\n\nclass ContactForm extends React.Component {\n    constructor(props) {\n      super(props)\n\n      this.state = {\n        email: '',\n        showError: false,\n        successfulSubmit: false,\n        isActive: false\n      }\n    }\n\n    handleKeyPress = (e) => {\n      if (e.key === 'Enter' && this.state.isActive) {\n        this.handleSubmit();\n      }\n    }\n\n    componentDidMount = () => {\n      document.addEventListener('keypress', this.handleKeyPress);\n    }\n\n    componentWillUnmount = () => {\n      document.removeEventListener('keypress', this.handleKeyPress);\n    }\n\n    handleSubmit = () => {\n      if (this.validateEmail()) {\n        const signUpData = {\n          'email': this.state.email\n        }\n        $.ajax({\n          url: \"https://formspree.io/xkzwwvnm\",\n          method: \"POST\",\n          data: signUpData,\n          dataType: \"json\",\n          success: function(data) {\n            var self = this;\n            $(\"#signup--input-container\").fadeOut(function(){\n              self.setState({\n                successfulSubmit: true\n              })\n              $(\"#signup--confirmation-text\").fadeIn()\n            })\n          }.bind(this),\n          error: function(xhr, status, err) {\n              console.error(this.props.url, status, err.toString());\n          }.bind(this)\n        });\n      } else {\n        this.setState({\n          showError: true\n        })\n      }\n    }\n\n    handleEmailChange = (e) => {\n      this.setState({\n        email: e.target.value,\n        showError: false\n      })\n    }\n\n    validateEmail = () => {\n      this.setState({\n        isActive: true\n      })\n\n      const email = this.state.email;\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if(re.test(email)){\n        return true\n      } else {\n        return false\n      }\n    }\n\n    renderForm = () => {\n      return (\n        <div id=\"signup--input-container\">\n          {this.state.showError &&\n            <p id=\"signup--error-message\">Sure that’s your email?</p>\n          }\n          <input type=\"email\" className=\"form-control\" placeholder=\"youremail@email.com\" onBlur={this.validateEmail} onChange={this.handleEmailChange}/>\n          <button onClick={this.handleSubmit}>Get in touch</button>\n        </div>\n      )\n    }\n\n    renderConfirmation = () => {\n      return (\n        <div id=\"signup--confirmation-text\">\n          <p>Thanks! We’ll be in touch soon.</p>\n        </div>\n      )\n    }\n\n    render() {\n      const formBody = this.state.successfulSubmit ? this.renderConfirmation() : this.renderForm();\n      return (\n        <section id=\"signup--container\">\n          <div id=\"signup--intro-container\">\n            <h2>Let’s write the future together.</h2>\n          </div>\n          {formBody}\n        </section>\n      );\n    }\n\n};\n\nexport default ContactForm;"]},"metadata":{},"sourceType":"module"}